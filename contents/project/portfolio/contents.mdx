---
title: '포트폴리오 웹사이트'
subTitle: 'isSeo Portfolio'
duration: '2024.03 - 2024.04'
idx: 0
---

export { skillTags } from './contents';
import { ProjectMainImage } from '@contents/components';
import { contents } from './contents';

<ProjectMainImage contents={contents} />

## Project Info

- [배포 링크](https://portfolio.seo0h.me 'preview') | [Github Repo](https://github.com/Seo0H/seo-portfolio 'preview')

### Summery | 요약

- 개인 프로젝트
- 24년 3월 ~ 4월 간 진행한 포트폴리오 사이트 제작 프로젝트
- `mdx` 를 이용한 포트폴리오를 컨텐츠 작성
- 배포된 웹 포트폴리오를 `lambda` 와 `S3` 를 이용해 PDF로 변환하여 다운로드 할 수 있도록 구현

### Personal achievements | 개인 성과

- **Web To PDF** : 포트폴리오 웹사이트를 Lambda 를 이용해 PDF 로 변환하여 유저가 다운로드 할 수 있도록 구현
- **Open Graph Privew** : `a` tag의 연결된 링크의 Open Graph 정보를 받아와 미리보기 제공
- **정적 배포** : `AWS S3`, `Cloud Front`를 이용한 정적 배포
- **CI/CD** : github action 을 이용한 빌드와 배포 자동화
- `MDX` 를 이용한 포트폴리오 컨텐츠 제작
- 모바일 대응

## Trouble shooting | 문제 해결

### 1. Web to PDF - 웹사이트 PDF 변환 및 다운로드

#### 요구사항 정의

- `web portfolio` 에서 `PDF 다운로드 버튼`을 누르면, PDF 로 된 포트폴리오를 다운로드 받을 수 있어야 합니다.

#### 요구사항 구체화

![요구사항 구체화를 위해 각 객체 별 상호작용을 다이어그램으로 정리하였습니다.](/posts/portfolio/web_to_pdf_diagram.png)

#### 구현 방식

- **Lambda Trigger 방식** : Github Action 에서 IAM 인증을 통한 함수 URL 호출 ([해당 코드](https://github.com/Seo0H/seo-portfolio/blob/main/.github/workflows/lambda-pdf.yml))

  - **CD 후 Trigger 호출** : Github Action 에서 사이트가 빌드, 배포 된 후 Lambda 함수 URL 을 호출하도록 workflow script를 구성하였습니다.
  - **AWS OIDC를 이용한 IAM Role 인증** : Github action 환경에서 aws client를 이용해 Lambda 함수를 호출하기 위해 JWT 기반의 OIDC를 이용한 인증 절차를 적용하였습니다.

- **PDF 생성 위치** : AWS Lambda 함수
  - **`pupperteer` 를 이용한 브라우저 크롤링** : node.js 환경에서 `pupperteer` 를 이용해 웹사이트를 PDF 형식으로 변환해 저장하도록 하였습니다.
- **PDF가 저장되는 위치** : AWS S3
  - Lambda 함수 호출 이후, AWS S3 버킷에 추출된 PDF 가 저장되도록 하였습니다.

---

### 2. Open Graph 미리보기 제공

![OG Preview 가 작동하는 모습](/posts/portfolio/4.png)

#### 요구사항 정의

- `mdx` 에서 "preview" title 이 있는 링크에 마우스를 호버 하면 해당 링크의 `Open Graph` 정보를 받아와 유저에게 보여줄 수 있어야 합니다.

#### 요구사항 구체화

-

#### 구현 방식

- **`<OGPreviewCard />` 컴포넌트 분리** : MDX A tag 에서 Open Graph Privew 컴포넌트를 분리했습니다.
- **Open Graph 다중 호출 방지** : `Context API` 로 `OG Provider` 를 구현해 이전에 호출한 URL과 받아온 data를 전역 OG Data 객체에 저장하고, URL이 호출되기 전에 OG Data를 조회해 값이 있으면 캐시된 값을 불러오도록 구현하였습니다.
- **`<OGPreviewCard />` 위치 보정** : 미리보기 카드가 화면의 좌, 우를 넘어서 보여지면 위치를 이동시켜 오버플로우되지 않도록 보정하였습니다.
